<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8" />
<title>applicaciones</title>

<link rel="stylesheet" href="../style.css" type="text/css" />

<link rel="stylesheet" href="../local.css" type="text/css" />





</head>
<body>

<article class="page">

<section class="pageheader">
<header class="header">
<span>
<span class="parentlinks">

<a href="../">flujos-vivos</a>/ 

</span>
<span class="title">
applicaciones

</span>
</span>

</header>


<nav class="actions">
<ul>


<li><a href="../recentchanges/">RecentChanges</a></li>








</ul>
</nav>




</section>



<div id="pagebody">

<section id="content">
<h1><a name="index1h1"></a>Programas para los flujos</h1>

<div class="toc">
<ol>
	<li class="L1"><a href="#index1h1">Programas para los flujos</a>
	<ol>
		<li class="L2"><a href="#index1h2">Dónde obtener una URL</a>
		<ol>
			<li class="L3"><a href="#index1h3">Los términos de uso de Giss.tv</a>
			</li>
		</ol>
		</li>
		<li class="L2"><a href="#index2h2">Internet DJ Console</a>
		<ol>
			<li class="L3"><a href="#index2h3">Organizar las listas de reproducción</a>
			</li>
			<li class="L3"><a href="#index3h3">Configurar el servidor de audio en IDJC</a>
			</li>
			<li class="L3"><a href="#index4h3">Medidores de niveles o picos</a>
			</li>
		</ol>
		</li>
		<li class="L2"><a href="#index3h2">Darkice</a>
		<ol>
			<li class="L3"><a href="#index5h3">Cómo funciona Darkice en el Live CD flujos-vivos</a>
			</li>
			<li class="L3"><a href="#index6h3">La hoja de configuración de Darkice</a>
			</li>
			<li class="L3"><a href="#index7h3">Transmitiendo con Darkice, JACK y Aqualung</a>
			</li>
			<li class="L3"><a href="#index8h3">Informacino General</a>
			</li>
		</ol>
		</li>
		<li class="L2"><a href="#index4h2">JackEQ y sus posibles combinaciones</a>
		</li>
		<li class="L2"><a href="#index5h2">Music Player Daemon</a>
		<ol>
			<li class="L3"><a href="#index9h3">Guia Rapida MPD</a>
			</li>
			<li class="L3"><a href="#index10h3">¿Qué demonios son demonios?</a>
			</li>
			<li class="L3"><a href="#index11h3">Reproducir y transmitir con MPD/Sonata</a>
			</li>
			<li class="L3"><a href="#index12h3">Soluciones de transmisión con MPD/Sonata</a>
			</li>
		</ol>
		</li>
		<li class="L2"><a href="#index6h2">Icecast2</a>
		<ol>
			<li class="L3"><a href="#index13h3">Activar Icecast2</a>
			</li>
			<li class="L3"><a href="#index14h3">Correr Darkice</a>
			</li>
			<li class="L3"><a href="#index15h3">¿Cómo recibir la transmisión de Icecast2 con las otras computadoras en la red local?</a>
			</li>
		</ol>
		</li>
		<li class="L2"><a href="#index7h2">Diagnóstico de problemas y errores</a>
		</li>
		<li class="L2"><a href="#index8h2">Video</a>
		<ol>
			<li class="L3"><a href="#index16h3">Enlaces</a>
			</li>
		</ol>
		</li>
	</ol>
	</li>
</ol>
</div>

<h2><a name="index1h2"></a>Dónde obtener una URL</h2>

<p>Hay algunos elementos básicos que necesitas para realizar tus transmisiones radiales por internet. Como ya se dijo en el capítulo de Streaming básico, la parte medular del streaming es el punto de montaje, y la URL a través de la cual nos podrán escuchar.</p>

<p>Hay muchas compañías que ofrecen sus servicios para proporcionar una URL, pero lucran con sus servicios. Esto hace mucho más limitado el acceso a una radio por internet propia. Sin embargo existe el proyecto Giss.tv, una red de voluntarios sin fines de lucro, creada con software libre para los medios libres. Puedes visitar la página del proyecto para conocer más sobre él http://giss.tv/</p>

<h3><a name="index1h3"></a>Los términos de uso de Giss.tv</h3>

<ul>
<li>Tu stream debe estar registrado bajo licencias copyleft, sin fines de lucro. Si la licencia de stream no es copyleft, tú debes ser el dueño de la licencia copyright, o estar autorizado por el autor o creador para realizar el stream.</li>
<li>No tener propaganda comercial.</li>
<li>No se acepta racismo, nacionalismo, sexismo, homofobia, propaganda religiosa o fanatismos…</li>
</ul>

<p>Giss.tv es un servidor libre para hospedar tu stream de audio. En este proyecto puedes obtener direcciones (URLs) para stream de audio.</p>

<p>Primero revisa la página web de Giss.tv: http://giss.tv/ . Allí encontrarás un enlace que se llama Create your channel (Crea tu canal). Este enlace te conduce al formulario donde puedes registrar una nueva dirección de streaming, un nuevo mountpoint ( punto de montaje). Para más información sobre el punto de montaje, puedes revisar el capítulo Streaming básico. Unx como emisor, se conecta al punto de montaje a través de un cliente para hacer stream, de esta forma se establece la conexión que enviará los paquetes de audio. Los radioescuchas se conectan al mismo punto de montaje, pero como receptores. En un servidor puede existir varios puntos de montaje, cada uno con un nombre específico. Este nombre junto con el nombre del servidor componen la dirección de tu stream, es decir la URL. Veamos cómo se llena el formulario para abrir tu propio punto de montaje.</p>

<p>En total son diez pasos para completar el formulario de los cuales cuatro son obligatorios (en rojo):</p>

<ul>
<li>En esta sección ingresa los números y/o letras que se muestran en el imagen. Este código, es una medida de seguridad para evitar que programas automatizados o robots llenen el lugar con spam (mensajes no deseados como publicidad).</li>
<li>Define el punto de montaje, o sea el nombre del stream. Tienes que definir si tu stream será codificado en los formatos digitales mp3, u Ogg Vorbis. Tu punto de montaje debe terminar con la extensión del formato elegido ya sea .mp3 u .ogg. Por ejemplo streaminglab.ogg</li>
<li>Se pide un correo electrónico activo. A este correo será enviada toda la información una vez registrado el stream, inclusive la contraseña (password) necesaria para autorizar transmisiones a través de esta dirección.</li>
<li>Esta ventana es para describir el proyecto, programa, grupo, colectivo, etc., que transmitirá por este stream. Esta información se publicará en la página de giss.tv junto con el stream.</li>
<li>Los keywords, son palabras claves o categorías que facilitarán que los escuchas encuentren tu señal de stream.</li>
<li>Debes decidir si quieres que la información sea publicada en la página de giss.tv. En la página http://giss.tv/gstats/instantstats.php se muestran todas las direcciones (canales) que están activos transmitiendo en este instante. También muestra el número de escuchas conectados a cada una de ellas. Si no quieres que esta información sea pública elige no.</li>
<li>Si el proyecto tiene su propia página web, o hay alguna dirección web que quieres vincular con tu stream, ingresa la URL en Channel web site.</li>
<li>Si quieres incluir una imagen o logo publicada en el internet, ingresa la dirección URL de la imagen, y ésta aparecerá publicada con tu stream.</li>
<li>Aquí defines si los contenidos emitidos por tu canal de stream serán en vivo (live), o programas grabados/listas de reproducción (playlists/archive), o ambos.</li>
<li>Debes estar de acuerdo con los términos de uso del servidor descritos con anterioridad.</li>
<li>Por último, oprime el botón add montpoint para terminar el registro del stream. ¡Listo!.</li>
<li>Como paso final, recibirás un correo electrónico a tu cuenta de correo que contendrá toda la información necesaria para transmitir.</li>
</ul>

<p>Guarda bien esta información, es muy importante. Si quieres editar tu información posteriormente (ej. cambiar el nombre, formato, información adicional) puedes hacerlo accediendo a través de la opción Edit channel en la página principal de Giss.tv. El servidor de Giss-tv se ha convertido en un sitio muy visitado últimamente. Pero todavía es posible lograr una transmisión muy estable y de buena calidad a través de este servidor. En ocasiones el puerto de transmisión está un poco saturado, puesto que hay muchas transmisiones al mismo tiempo, así que te sugerimos que pruebes con el puerto 8000 u 8001.</p>

<p>Aunque las interfaces de los diferentes clientes de streaming son diferentes, siempre deberás ingresar la misma información básica, como nombre de punto de montaje, nombre de usuario, contraseña de acceso y formato de audio.</p>

<h2><a name="index2h2"></a>Internet DJ Console</h2>

<p>Internet DJ Console es un cliente de streaming de audio de código abierto que funciona con las plataformas Shoutcast, Icecast, e Icecast2, con soporte para transmisión en formato OGG Vorbis y también mp3. Tiene una interfaz gráfica que lo hace simple de usar. Permite mezclar dos listas de reproducción, señal de micrófono, entradas JACK y llamadas Skype. Además, se puede grabar la transmisión. Necesita el servidor de sonido JACK para funcionar.</p>

<h3><a name="index2h3"></a>Organizar las listas de reproducción</h3>

<ol>
<li>Para importar una o más pistas, selecciona el botón:  \ Se abrirá la ventana siguiente, donde podrás buscar tus archivos de audio:</li>
<li>Una vez importadas las pistas en la lista de reproducción: \ Puedes utilizar la barra que está debajo de la lista de reproducción, para ordenar las pistas. El primer botón despliega las siguientes opciones de reproducción: \ <strong>Play All</strong> </li>
<li>Reproduce la lista completa desde el inicio hasta el final. \ <strong>Loop All</strong> - Repite la reproducción. \ <strong>Random</strong> - Reproducción aleatoria. \ <strong>Manual</strong> - No hay ninguna pista seleccionada y la reproducción termina al final de la pista. \ <strong>Cue Up</strong> - La reproducción se detiene al final de la pista y la lista de reproducción es seleccionada. \ <strong>Alternate</strong> - Cambia al segundo reproductor al terminar de reproducir la pista. \ Mueve la pista seleccionada hacia arriba de la lista de reproducción. \ Mueve la pista seleccionada hacia el final de la lista de reproducción. \ Elimina la pista seleccionada de la lista de reproducción. \ Habilita el reproductor de audio para hacer streaming. \ Permite oír o silenciar la reproducción sin afectar el stream.</li>
<li>Micrófono.\ Este botón habilita y deshabilita el micrófono durante la transmisión:</li>
</ol>

<h3><a name="index3h3"></a>Configurar el servidor de audio en IDJC</h3>

<ul>
<li>Selecciona el botón Server ubicado en la parte inferior izquierda de la ventana principal. Se abrirá la siguiente ventana:</li>
<li>En la sección Connection, completa la información del servidor de audio con el que cuentas, si aun no tienes la tuya, revisa el capítulo Dónde obtener una URL: \ <strong>Type</strong> Tipo de servidor (Icecast, Icecast2, Shoutcast) \ <strong>Host</strong> - Nombre del servidor de audio (ej. giss.tv) \ <strong>Port</strong> - Puerto, suele ser 8000 u 8001 \ <strong>Mount</strong> - Punto de montaje (ej./streaminglab.ogg) \ <strong>Login</strong> - Nombre de usuario (siempre es source) \ <strong>Pass</strong> - Contraseña \ Si bajas un poco encontrarás otras opciones:</li>
<li>En la sección Sample rate, este valor debe corresponder con el valor configurado en el servidor JACK generalmente se usa 44100, que corresponde a la calidad de un CD.</li>
<li>En la pestaña Ogg/Vorbis, se recomienda bajar el Bitrate a 45 para que sea menos pesada la señal, de esta manera se corta menos y es más estable.</li>
<li>Donde dice Stream Info puedes escribir tu nombre, la URL con la que te sintonizarían tus escuchas. Puedes poner una descripción y los géneros. Si dejas marcada la opción Make Public, tu radio aparecerá en los directorios del servidor. Puedes marcar la opción de empezar la lista de reproducción 1 o 2 al conectarse.</li>
<li>Al finalizar la configuración, selecciona el botón Server Connect.</li>
<li>La sección Record, te permite grabar tu stream directamente en tu máquina. Selecciona el stream que quieres grabar, elige la ruta donde quieres guardar el archivo y finalmente selecciona el botón rojo para grabar. Recuerda que en el live-cd no podrás guardar nada para la siguiente sesión, por lo cual es recomendable copiar tu archivo a una memoria USB antes de cerrar la sesión con el disco.</li>
</ul>

<p>Si estás transmitiendo, la señal de la pestaña 1 debería verse verde, si está roja entonces tienes problemas con tu servidor:</p>

<p>Puedes configurar más de un servidor de audio con la misma señal, en las otras 6 pestañas de esta ventana. Esto puede ser útil para transmitir en distintos formatos y distintas direcciones.</p>

<h3><a name="index4h3"></a>Medidores de niveles o picos</h3>

<p>Internet DJ Console, tiene medidores de niveles de audio. Aquí la descripción de cada uno:</p>

<h4><a name="index1h4"></a>Str Peak</h4>

<p>Mide los picos de audio del streaming. Este medidor te permite prevenir cualquier caída demasiado larga de la señal.</p>

<h4><a name="index2h4"></a>Streams</h4>

<p>Muestra las señales de los streams por punto de montaje.</p>

<h4><a name="index3h4"></a>Mic Peak</h4>

<p>Mide los picos del micrófono.</p>

<h4><a name="index4h4"></a>Comp</h4>

<p>Indica el valor de compresión dinámica aplicada al micrófono.</p>

<h4><a name="index5h4"></a>Mezclar dos listas de reproducción</h4>

<p>La herramienta de mezcla se ubica en la parte inferior de Internet DJ Console. Consiste en una interfaz gráfica, que permite controlar los valores de tiempo de mezcla y el tipo de mezcla sonora. A continuación veremos en detalle algunas de las opciones de la mezcladora.</p>

<h4><a name="index6h4"></a>Crossfader</h4>

<p>Permite ver de manera gráfica la transición de una lista de reproducción a otra. El lado L Left (izquierdo) corresponde a la primera lista de reproducción y R Right (derecho) a la segunda lista de reproducción. Los botones de flecha llevan de una a otra lista de manera inmediata. Sin embargo, IDJC tiene la posibilidad de darle tiempo a la transición de una pista a otra, dando un efecto de mezcla.</p>

<h4><a name="index7h4"></a>Response (tipo de transición)</h4>

<p>Esta pestaña te permite cambiar el tipo de transición. Le dará a la mezcla un cierto efecto de transición, que verás reflejado en la calidad sonora de la mezcla entre una pista y otra. Los tipos de transiciones vienen señalados, de manera gráfica, a través de dos líneas cruzadas que representan la grafia simplificada de dos pistas sonoras.</p>

<h4><a name="index8h4"></a>Time (tiempo)</h4>

<p>Este valor corresponde al tiempo que va a durar la transición entre una pista y otra. Puedes modificar este valor, mediante las dos pequeñas flechas ubicadas del lado derecho del cuadro.</p>

<h4><a name="index9h4"></a>Pass (botón de paso)</h4>

<p>Este botón permite ejecutar la transición con tiempo.</p>

<h4><a name="index10h4"></a>Botón Stream-Mix</h4>

<p>Se encuentra a la izquierda del crossfader. A este botón vamos a dedicar una explicación más detallada, porque es muy importante entender cómo IDJC mezcla el audio.</p>

<p>En IDJC hay dos rutas de audio: Una ruta es la que escucha el DJ, por eso llamada ruta de audio del DJ; la otra ruta, es la señal que recibe el radioescucha (el stream). Con el botón Stream activado, escucharás exactamente la misma mezcla de audio que recibe también el radioescucha (con la única excepción de la alarma del DJ) y también escucharás el efecto de transición.</p>

<p>Cuando el botón DJ está desactivado, puedes escuchar una pista distinta a la que estás transmitiendo; para hacer eso, tienes que desactivar el botón Listen de la lista de reproducción que estás transmitiendo. La lista de reproducción activa es siempre aquella debajo de la cual se encuentra el crossfader. Así, en la otra lista de reproducción, puedes escuchar música e ir preparando la próxima pista que quieres mezclar y transmitir. No te preocupes, lxs radioescuchas no pueden escuchar eso y lo puedes verificar al activar el botón Stream.</p>

<h2><a name="index3h2"></a>Darkice</h2>

<p>Quién es Darkice?</p>

<p>en el terminal haz: 
    man darkice</p>

<p>Darkice es un programa para la transmisión de audio en vivo a través del Internet (flujos). Una de sus ventajas es que puedes transmitir múltiples flujos en formatos Ogg Vorbis y mp3, en diferentes calidades. Puede ser utilizado con los servidores Icecast1, Icecast2 y Shoutcast. Cada flujos (hasta 8) puede ser configurado con diferentes bitrates y formatos. Una herramienta muy útil cuando nuestros escuchas cuentan con una diversidad de reproductores de audio y distintas velocidades de conexión al internet.</p>

<p>El programa captura el sonido a través de una interfaz de audio, lo codifica y lo envía a un servidor de flujos. </p>

<p>El paquete de Darkice que viene en el repositorio de Debian no tiene soporte para el codec mp3 por tener su uso <span class="createlink">http://en.wikipedia.org/wiki/MP3#Licensing and patent issues</span>. Es necesario compilar Darkice con soporte para este formato o utilizar otro paquete que no sea del repositorio oficial. Con el Darkice contenido en el Live CD no podrás transmitir en formato obsoleto mp3, pero sí en formato <span class="createlink">http://es.wikipedia.org/wiki/Vorbis</span> que nos proporciona mayor calidad de audio a un menor tamaño de archivo y libertad completo sobre su uso y distribución.</p>

<h3><a name="index5h3"></a>Cómo funciona Darkice en el Live CD flujos-vivos</h3>

<p>En flujos-vivos puedes ejecutar Darkice con y sin el servidor JACK. La principal característica de Darkice, es que se trata de un programa que se ejecuta desde la Terminal. Esto puede parecer aterrador para aquellxs que estamos acostumbrados a una interfaz gráfica, pero ya verás que no es tan complicado. Darkice te da la posibilidad de configurar tu streaming con hasta 8 diferentes puntos de montaje, y puedes guardar diferentes configuraciones del mismo stream. Darkice ejecuta el stream a partir de una hoja de configuración. El Live-CD contiene una hoja de configuración de ejemplo para transmitir:</p>

<pre><code>/home/usr/share/doc/darkice/examples
</code></pre>

<p>Esta hoja contiene 4 diferentes secciones, una de configuración general, una sección de configuración de un stream con el servidor IceCast, una sección de configuración de stream con IceCast2, y una sección de configuración con Shoutcast. Veamos con detalle lo que significan sus secciones y sus variables:</p>

<h3><a name="index6h3"></a>La hoja de configuración de Darkice</h3>

<p>en el terminal haz: 
    man darkice.cfg</p>

<p>Darkice trae un configuracion de ejemplo en /user/share/doc/darkice/examples. Copialo a un lugar donde puedes trabajar con confianza, como por ejemlplo el carpeta de usuario:</p>

<pre><code>cp /usr/share/doc/darkice/examples/darkice.cfg .
</code></pre>

<p>Abre el archivo darkice.cfg con algún editor de texto (ej. mousepad) para editarlo:</p>

<pre><code>mousepad darkice.cfg
</code></pre>

<p>En la primera sección hay que configurar características generales (en las imágenes siguientes podrás distinguir en blanco las variables a las que hay que asignar valores, en rojo los valores que hay que editar, y en amarillo los comentarios que sólo nos sirven como guía para entender lo que las variables significan, estos comentarios al estar precedidos por el signo # no serán tomados como instrucciones al ejecutar el programa):</p>

<pre><code>[general]
duration = 0    # duración de la codificación en segundos 0 significa infinito 
bufferSecs = 5  # tamaño del buffer en segundos
reconnect = yes # reconectar el servidor en caso de que se desconecte
# Esta sección describe la entrada de audio a través de la cual se hará el stream
[input]
device          = jack      # OSS DSP Jack ALSA dispositivo de tarjeta de sonido para la entrada de audio
sampleRate      = 44100     # sample rate en Hz. prueba con 11025, 22050, 44100 o 48000
bitsPerSample   = 16        # bits por una prueba de muestra de 16
channel         = 2         # canales: 1 = mono, 2 = stereo
</code></pre>

<p>Ojo: En la sección [input] en la variable [device] defines cuál será el controlador de audio a través del cual lanzarás tu stream. Si quieres transmitir con JACK, deberás anotar jack en esta sección, asi como esta en el ejemplo. Si no utilizas jack puedes poner el disponitivo de alsa o sencillamente: "default":
    device          = default</p>

<p>Es muy importante que especifiques el dispositivo de audio porque si llega a estar incorrecto, Darkice no se ejecutará. El sampleRate (frecuencia de muestreo) definido en la hoja de configuración de Darkice, debe corresponder con el samplerate configurado en tu dispositivo de sonido, en este caso JACK. Revisa el capítulo de JACK para más información sobre esto.</p>

<p>La siguiente es la sección configurada para hacer un stream con el servidor Icecast2 (este es el que normalmente usamos nosotrxs):</p>

<pre><code>[icecast2-0]
bitrateMode     = abr       # tipo de bitrate, en este caso promedio
format          = vorbis    # formato del stream: mp3 o vorbis
bitrate         = 45        # calidad de codificación
server          = tu.servidor.com  # nombre del servidor en el que está alojado el stream
port            = 8000      # Puerto para el servidor IceCast2, generalmente 8000 u 8001
password        = hackme    # Contraseña del servidor IceCast2
mountPoint      = prueba.ogg      # Punto de montaje de este stream en el servidor IceCast2
name            = Radioflujos     # nombre del stream
description     = haz radio, crea flujos   # descripción del stream
url             = http://radio.flujos.org  # URL relacionada al stream, puede ser la URL de tú página de internet
genre           = streaming con software libre      # género del stream
public          = yes       # ¿Quieres que el stream sea publicado en la página del servidor?
</code></pre>

<p>La siguiente es la sección configurada para hacer un stream con el servidor ShoutCast:
    [shoutcast-0]
    bitrateMode     = vbr       # modo de bit rate variable
    quality         = 0.5       # calidad de codificación
    server          = tu.servidor.com    # nombre del servidor en el que está alojado el stream
    port            = 8001      # Puerto para el servidor Shoutcast, generalmente 8000 u 8001
    password        = hackme    # Contraseña del servidor ShoutCast
    name            = Radioflujos # nombre del stream
    url             = http://radio.flujos.org # URL relacionada al stream, puede ser la URL de tú página de internet
    genre           = streaming con un servidor no tan libre    # género del stream
    public          = yes         # ¿Quieres que el stream sea publicado en la página del servidor?
    irc             = irc.tuservidor.com  # información de canal IRC relacionada a este stream</p>

<h3><a name="index7h3"></a>Transmitiendo con Darkice, JACK y Aqualung</h3>

<p>En este ejemplo Darkice está configurado para ejecutarse con JACK como dispositivo de entrada de audio (input device) y para transmitir a través de un servidor de tipo Icecast2. En la siguiente imagen, también puedes ver que el sampleRate debe coincidir con el sampleRate configurado de JACK.</p>

<p>Si tienes dudas acerca de la configuración de JACK, la puedes revisar en la ventana Setup de JACK Control:</p>

<p>Una vez que modifiques los valores para la configuración de tu stream, guarda el documento con el nombre de éste, y ahora, ¡¡es hora de conectar el stream!!.</p>

<ol>
<li>Abre JACK control, y ejecutalo con el botón Start.</li>
<li>Abre tu reproductor de audio, en este caso utilizamos Aqualung (recuerda buscar reproductores compatibles con JACK). No olvides reproducir alguna pista para que éste aparezca en la ventana de conexiones de JACK.</li>
<li>Abre la Terminal y teclea la instrucción darkice -c seguido de la ruta donde se encuentra tu archivo de configuración de stream, debes revisar que la ruta sea correcta, una forma fácil de copiar rutas es arrastrando tu archivo hacia la terminal como se muestra a continuación:</li>
</ol>

<p>A continuación se escribirá la ruta donde se encuentra tu archivo:</p>

<p>En este caso nuestro archivo se llama darkice.cfg y se encuentra en el escritorio, por lo que la instrucción para ejecutar Darkice quedaría así:
  darkice -c /home/radio/Desktop/darkice.cfg</p>

<p>Oprime Enter.¡!!Y listo, estarás transmitiendo con Darkice!.</p>

<p>En el Live CD flujos-vivos, JACK viene configurado para realizar sus conexiones de manera automática, pero puedes modificar las conexiones para determinar lo que quieres que se reproduzca en tu stream.</p>

<p>Si tienes dudas o quieres instalar Darkice en tu computadora con Linux, visita el foro de http://radio.flujos.org o puedes acceder al manual en inglés de Darkice con la siguiente linea en la terminal:</p>

<h3><a name="index8h3"></a>Informacino General</h3>

<p>Vamos a ver en breve algunas de las características de Darkice y después explicaremos como puedes configurar este programa en tu sistema operativo para su funcionamiento.</p>

<p>Darkice puede correr en los siguientes sistemas operativos:</p>

<ul>
<li>FreeBSD</li>
<li>Linux</li>
<li>MacOS X</li>
<li>NetBSD / OpenBSD</li>
<li>SUN Solaris</li>
</ul>

<p>Puede capturar sonido a través de los siguientes dispositivos:</p>

<ul>
<li>Dispositivos de audio OSS</li>
<li>Dispositivos de audio ALSA</li>
<li>Interfaz de audio Solaris</li>
<li>Fuentes del servidor JACK</li>
<li>Entrada de audio uLaw a través de una interfaz serial</li>
</ul>

<p>Puede codificar el audio en los siguientes formatos:</p>

<ul>
<li>mp3 – usando la librería lame</li>
<li>mp2 – usando la librería twolame</li>
<li>Ogg Vorbis</li>
<li>aac – usando la librería faac</li>
</ul>

<p>Puede enviar el audio codificado a los siguientes servidores de stream:</p>

<ul>
<li>ShoutCast</li>
<li>IceCast 1.3.x y 2.x</li>
<li>Darwin Streaming Server</li>
<li>archivar el audio codificado en archivos</li>
</ul>

<p>Actualmente Darkice es considerado un programa estable. Existe también un interfaz gráfica GTK (GUI) llamada <span class="createlink">http://darksnow.radiolivre.org/index.en.html</span> desarrollada por Rafael Diniz.</p>

<h2><a name="index4h2"></a>JackEQ y sus posibles combinaciones</h2>

<p>Qué es JackEQ</p>

<p>JackEQ es una herramienta que se combina con JACK Control y que permite controlar señales de audio a modo de ecualizador o mezcladora. Tiene 4 canales estéreo de audio (entradas) para una salida y un monitor de salida.</p>

<p>El uso de JackEQ, te permitirá combinar hasta cuatro señales distintas (listas de reproducciones, micrófono, etc.) a la hora de hacer tu stream. Las posibilidades de conexiones dependerán, de las entradas físicas que tienes en tu equipo y de la compatibilidad de tus reproductores con la herramienta JACK.</p>

<p>En este capítulo, verás cómo utilizar esta mezcladora a través de un ejemplo de combinaciones, que es uno de muchos que puedes hacer en Linux. La idea de esta configuración consiste en tener a tu disposición, una o dos listas de reproducción y un micrófono para poder transmitir a través del programa Darkice (para editar la hoja de configuración necesaria para hacer tu stream, revisa el capítulo Darkice).</p>

<p>Interfaz de JackEQ</p>

<p>La ventana de control de JackEQ se presenta así:</p>

<p>Veamos los elementos esenciales en detalle.</p>

<p>Canales:</p>

<p>Son los deslizadores que te permiten controlar el volumen de la entrada de audio de cada canal, de manera independiente. Como explicamos antes, JackEQ te da la posibilidad de controlar hasta 4 cuatro señales de audio distintas, provenientes tanto de programas de audio como de entradas físicas de la computadora.</p>

<p>Mezcladores:</p>

<p>En JackEQ, cuentas con dos de estos mezcladores, éstos te permiten mezclar muy fácilmente y de manera manual una señal de audio con otra. De cada lado del deslizador horizontal, vienen los números que corresponden a los canales desde el que vas a mezclar la señal. Puedes jugar con todas las combinaciones posibles, marcando con un punto el canal que vas a mezclar de un lado y del otro. La indicación mute, silencia la entrada de sonido.</p>

<p>Master:</p>

<p>Este deslizador te permite controlar el volumen de la salida general de JackEQ, es decir, el volumen de la señal de audio ya mezclada; y que puedes enviar a tus bocinas, audífonos y, porqué no, a un stream.</p>

<p>Conectar para que se escuche</p>

<p>Esta herramienta llamada JackEQ funciona en conjunto con JACK Control. Para no tener problemas con las conexiones sigue los pasos siguientes:</p>

<p>1.Abre JACK Control y configúralo para que funcione correctamente con tu computadora. Para saber cómo configurar JACK Control, revisa el capítulo JACK.</p>

<p>2.Abre JackEQ.</p>

<p>3.Abre un reproductor como Audacious, por ejemplo, y configúralo para que corra con JACK. (Para saber cómo configurar tu reproductor, revisa el capítulo Reproductores de audios libres). Reproduce un audio para hacer las pruebas de conexión.</p>

<p>4.En JACK Control, abre la ventana de conexiones a través del botón connect se abrirá la siguiente ventana:</p>

<p>5.En esta interfaz gráfica, podrás conectar y desconectar aplicaciones de audio, así como las entradas físicas de audio de tu computadora. Muchas veces, los programas hacen sus conexiones al sistema de manera automática. Por eso es mejor empezar de cero y desconectar todo con el botón Disconnect All.</p>

<p>6.En la ventana izquierda encontrarás la lista de los programas en uso compatibles con JACK, mientras que en la ventana derecha se ubican las salidas a las que puedes conectar estos programas (bocinas, programas de transmisión por internet, canales de entrada de JackEQ). En la primera lista (de arriba hacia abajo), podemos ver que Audacious tiene salidas estéreo (son 2), conéctalas a la entrada del canal 1 de JackEQ. Une con un cable virtual la salida out_0 de Audacious con la entrada c.1-in-L (izquierda) del canal 1 de JackEQ y out_1 con c.1-in- R (derecha).</p>

<p>Para manipular las conexiones manualmente, selecciona los puertos de salida (en el cuadro izquierdo) y los puertos de entrada (en el cuadro derecho), que quieres conectar entre sí. Para terminar el proceso de conexión, selecciona el botón connect. Así, de manera gráfica podrás ver los cables virtuales conectados entre los puertos elegidos.</p>

<p>7.Conecta la entrada de tu micrófono a la entrada del canal 2 de JackEQ. La entrada física de tu computadora aparece en la ventana izquierda como una salida. Es fácil reconocerla por el icono de micrófono al lado de los nombres capture_1 y capture_2. Une con un cable virtual la salida capture_1 con la entrada c.2-in-L (izquierda) de JackEQ y capture_2 con c.2-in-R (derecha). Recuerda que a la entrada física de tu computadora le puedes conectar, tanto un micrófono como un reproductor de cd o una grabadora.</p>

<p>8.Si quieres integrar un segundo reproductor como vlc, por ejemplo, que maneja el sistema de listas de reproducción, puedes conectarlo al canal 3. Une con un cable virtual la salida channel_1 con la entrada c.3-in-L (izquierda) de JackEQ y channel_2 con c.3-in-R (derecha). Es posible que la acción de ejecutar dos reproductores a la vez sea un proceso demasiado pesado para algunas computadoras. Si es tu caso, te recomendamos saltarte este paso y trabajar con un sólo reproductor.</p>

<p>9.El último paso consiste en conectar la salida general de JackEQ a la salida física de la computadora. Esta aparece en la ventana derecha con los iconos de bocinas con los nombres playback_1 y playback_2. Une con un cable virtual la salida a.master-L con la entrada playback_1 y a.master-R con playback_2.</p>

<p>10.Ya estás listx para hacer tus mezclas a través de la interfaz gráfica de JackEQ con: Audacious en el canal 1, tu micro en el canal 2 y si tu computadora lo permite, vlc en el canal 3.</p>

<p>Transmitir tu mezcla con Darkice</p>

<p>Como vimos anteriormente, la herramienta JACK permite distribuir una o varias señales de audio con todos los programas que son compatibles con JACK. Este es el caso de Darkice, un demonio que te facilita la transmisión de audio por Internet sin utilizar muchos recursos de tu computadora. Como es un programa que no tiene interfaz gráfica, es muy fácil configurarlo para que corra con JACK y que aparezca entonces en la ventana de conexiones de JACK Control. (Para saber cómo configurar Darkice para que corra con JACK, revisa el capítulo Darkice).</p>

<p>Si ya lograste hacer tu conexiones en JackEQ para que tu mezcla se escuche por tus bocinas, entonces estás listx para enviarla por internet con Darkice:</p>

<p>1.Corre Darkice desde la terminal.</p>

<p>2.Abre la ventana de conexiones de JACK Control y asegúrate de que Darkice aparezca en la lista de las aplicaciones en tu ventana derecha.</p>

<p>3.Une con los cables virtuales la salida a.master-L con Darkice left y a.master-R con Darkice right.</p>

<p>4.No olvides monitorear tu stream con otra computadora para asegurarte que los niveles están bien.</p>

<h2><a name="index5h2"></a>Music Player Daemon</h2>

<p>en el terminal haz:</p>

<p>man mpd</p>

<h3><a name="index9h3"></a>Guia Rapida MPD</h3>

<h4><a name="index11h4"></a>Despertar el Demonio</h4>

<p>mpd</p>

<h4><a name="index12h4"></a>Reproducir</h4>

<p>mpc play</p>

<p>##### Reproducir la Ke Huelga #####</p>

<p>mpc clear; mpc add http://acervo.org:8180/kehuelga.ogg; mpc play</p>

<h4><a name="index13h4"></a>Transmitir</h4>

<p>desde flujos-vivos 1.0.4.1</p>

<p>mpc enable 3</p>

<h4><a name="index14h4"></a>Servidor</h4>

<p>desde flujos-vivos 1.0.5
   mpc enable 4</p>

<h3><a name="index10h3"></a>¿Qué demonios son demonios?</h3>

<p>El procesamiento de audio con programas como <span class="createlink">http://mpd.wikia.com/wiki/Music Player Daemon Wiki</span> (MPD), es llevado a cabo dentro de una relación servidor-cliente. Icecast y MPD son aplicación que en relación con otros programas cumplen la función de servidor. En este caso el servidor es llamado demonio (<span class="createlink">http://es.wikipedia.org/wiki/Demonio %28inform%C3%A1tica%29</span>), una aplicación sin interfaz gráfica, permanentemente en estado de alerta para realizar una cierta tarea – cómo por ejemplo el procesamiento de audio. El demonio se complementa con un cliente que envia ordenes al servidor para reproduce archivos de audio o una fuente de sonido (línea de entrada, micrófono, etc.). Hay clientes que corren dentro de la Terminal como ncmpc y clientes gráficos como Sonata. Ninguno de estos clientes funciona por sí sólo, siempre necesita comunicarse con el demonio ya que es a través de éste que se configuran todos los procesos de información, en este caso el procesamiento de audio o música.</p>

<h3><a name="index11h3"></a>Reproducir y transmitir con MPD/Sonata</h3>

<p>Reproducir música con el dúo de software MPD/Sonata permite administrar el archivo de música (/Radio en el Live CD flujos-vivos) de una manera muy cómoda y ordenada a través de listas de reproducción.</p>

<p>Al arrancar flujos-vivos hay que arrancar MPD. sin que se perciba visiblemente este proceso. Debido a el modelo de uso Servidor/Cliente de MPD,  para operar MPD hay que abrir tanto el servidor como el ciente:</p>

<ul>
<li><strong>Incia MPD</strong> en el terminal haz: \ <code>mpd</code></li>
<li><strong>Incia Sonata</strong> en el terminal haz: <code>sonata</code> O a través del menú: <strong>Multimedia &gt; Sonata</strong>. </li>
</ul>

<h4><a name="index15h4"></a>Importar pistas a la librería</h4>

<p>Toma en cuenta que Sonata no abre archivos de música desde cualquier carpeta, trabaja con una ruta pre-establecida y exige que todos los archivos (o carpetas) que uno quiere reproducir se encuentren en la carpeta Música. Para acceder a esta carpeta, entra por el sistema de archivos y luego selecciona en la dirección RADIO que encontrarás en la columna izquierda de la ventana:</p>

<p>Luego abre la carpeta Musica, copia todos los archivos y carpetas que quieras reproducir en Sonata.</p>

<h4><a name="index16h4"></a>Actualizar la librería de Sonata</h4>

<p>En la ventana principal de Sonata abre la pestaña <strong>Biblioteca</strong>. Su ventana correspondiente se encuentra vacía. Dale click derecho al ratón, dentro de esta ventana y selecciona <strong>Actualizar</strong>. Esto actualizará tu librería y hará aparecer todos los archivos o carpetas que copiaste en la carpeta (en RADIO) anteriormente.</p>

<h4><a name="index17h4"></a>Armar una lista reproducción</h4>

<p>Para armar una primera lista de reproducción, selecciona los audios de la librería con el botón derecho del ratón sobre los archivos (o carpetas) y elige la opción <strong>añadir</strong>. Cada audio (o varios si eliges carpetas) aparecerá en la pestaña <strong>actual</strong>. Ahora ya puedes reproducir con doble click sobre un audio o con el botón <strong>Reproducir</strong>:</p>

<h4><a name="index18h4"></a>Organizar la lista de reproducción</h4>

<p>Puedes modificar la lista de reproducción a tu gusto, borrando o adjuntando audios y cambiando su orden. Pero ojo: cada vez que importas nuevos archivos en la carpeta Musica no olvides actualizar la librería. O, de forma alternativa, configura Sonata actualizar la biblioteca a iniciarse.</p>

<p>MPD puede comunicar con las salidas de audio a través de ALSA o JACK. El uso de ALSA es mas intuitivo, pero damos unos incicaciones para los casos en que utilizamos JACK.</p>

<h4><a name="index19h4"></a>Utilizar MPD con Jackd</h4>

<p>Inicia en el menú principal: <strong>Multimedia &gt; Jack Control</strong>. Se abre la siguiente ventana donde se hacen las configuraciones básicas de <span class="createlink">http://wiki.flujos.org/fv:manual:audioenlinux#que es jack</span>.</p>

<p>Enciende JACK oprimiendo el botón Start.</p>

<p>Para ver o cambiar las conexiones entre estas aplicaciones dirígete a la ventana principal de JACK y selecciona el botón <strong>Connect</strong>.</p>

<p>Se abrirá la ventana de conexiones de JACK. En la parte izquierda puedes ver las salidas de audio de MPD y en la parte derecha las salidas de tu equipo para reproducir el sonido.</p>

<p>Importante: En esta ventana de conexiones de JACK, Sonata aparecerá sólo si se está reproduciendo algo, después Sonata seguirá visible aunque detengas la reproducción.</p>

<p>Como ves, se puede organizar y guardar listas de reproducción muy largas, volviendo así, al dúo MPD/Sonata una aplicación ideal para transmitir programas de radio con un contenido grabado o hacer una lista de reproducción compuesta de streams espejeados, por ejemplo.</p>

<h3><a name="index12h3"></a>Soluciones de transmisión con MPD/Sonata</h3>

<p>Hay básicamente dos maneras para hacer streaming con MPD/Sonata:</p>

<ul>
<li>Transmitir archivos de audio directamente con MPD. Importante: Al utilizar MPD de esta manera no tienes posibilidad de mezclar otras fuentes de sonido dentro de la computadora antes de transmitirlo.</li>
<li>Utilizar MPD como reproductor de audio mientras otro cliente de flujos (ej. Darkice) asegura la salida del flujo. Así, a través de la aplicación JACK Control, la reproducción en MPD se puede mezclar con otra fuente de sonido (ej. micrófono) y transmitir con Darkice como un flujo (stream).</li>
</ul>

<p>La solución más conveniente dependerá de ti, de tus intereses y de tu equipo…</p>

<h4><a name="index20h4"></a>Streaming con MPD</h4>

<p>MPD ya esta configurado para transmitir a localhost. Si arrancas el servidor de Icecast2, como explicado en <span class="createlink">http://wiki.flujos.org/fv:manual:aplicaciones#icecast2</span>, unicamente tienes iniciar el flujo con mpc. En el terminal haz:
  mpc enable 3</p>

<p>Si quieres transmitir a otro servidor, por ejemplo, esto lo puedes definir desde el cargador del arranque de flujos-vivos con el opcion de arranque "server=giss.tv" (Ver sección <span class="createlink">opciones de arranque</span> para otros opciones disponibles) o si puede editar la oja de configuración de mpd directamente. </p>

<h5><a name="index1h5"></a>Editar la hoja de configuración de MPD</h5>

<p>Siempre en la Terminal, configura tu salida de streaming, es decir con qué servidor y punto de montaje se comunicará MPD. La configuración básica se hace en la hoja de configuración del demonio MPD. Para abrir este documento y poder editar la hoja de configuración con mousepad u otro editor de texto teclea:</p>

<pre><code>mousepad ~/.mpdconf
</code></pre>

<p>Se abre una hoja de configuración con varios ejemplos.</p>

<p>Todas las líneas que tiene el signo # al inicio están desactivadas, son sólo comentarios que te ayudan a entender lo que estás configurando. Si bajas por el documento, verás en la sección AUDIO OUTPUT que ya está definido y activado JACK como gestor de audio, etc.</p>

<p>Ahora lo que nos interesa es definir la salida hacia un servidor de audio. Esta configuración se realiza en la sección donde dice:</p>

<p>En el siguiente ejemplo de hoja de configuración, comentamos los cambios necesarios para transmitir con tu propia URL (si tienes dudas sobre lo que es una URL revisa el capítulo Dónde obtener una URL).</p>

<p>Luego guarda esta configuración con el comando Ctrl + S (o a través del menú File &gt; Save) y cierra el editor de texto.</p>

<h5><a name="index2h5"></a>Empezar a transmitir</h5>

<p>Para que MPD toma los cambios en cuenta hay que reiniciarlo. En la Terminal haz:</p>

<pre><code>mpd --kill ; mpd
</code></pre>

<p>Finalmente abre JACK (si no lo tienes abierto), un cliente de MPD para reproducir archivos de audio (ej. Sonata) e inicia la reproducción. ¡Listo! ¡Ya estás transmitiendo!</p>

<h5><a name="index3h5"></a>Monitorear</h5>

<p>Siempre es importante saber si sale bien o no el stream. Dos pasos recomendables para monitorear son:</p>

<ul>
<li>Abrir la ventana de conexiones de JACK Control después de iniciar tu reproducción para ver si está conectado MPD (en el lado izquierdo, salidas del reproductor).</li>
<li>Abrir el stream con un reproductor de audio en otra computadora porque aunque no se reciban mensajes de error en la Terminal puede existir otra falla que impida que se escuche algo. Pensar en una solución para monitorear constantemente es muy importante. Si otra persona te está escuchando en otro lugar intenta comunicarte a través de un chat (ver capítulo Comunicándose más allá del stream).</li>
</ul>

<h4><a name="index21h4"></a>Streaming con MPD, Sonata, Darkice y JACK</h4>

<p>En esta configuración, MPD y Sonata servirán para reproducir, Darkice para transmitir, JACK para gestionar. La configuración básica de MPD para funcionar junto con Icecast2 ya está hecha. Si has transmitido con MPD directamente recomendamos (y por lo tanto, modificado la sección # An example of a shout output en la hoja de configuración), desactives estos cambios otra vez. Si es así, abre la hoja de configuración en la Terminal con:</p>

<p>Luego basta con agregar el signo # al inicio de las líneas de la sección de AUDIO OUTPUT para desactivar la salida del stream. Eso es muy importante sobretodo si vas a utilizar la misma URL para transmitir con Darkice. Guarda la hoja de configuración.</p>

<h5><a name="index4h5"></a>Iniciar Music Player Daemon</h5>

<p>Para iniciar MPD (¡verifica que esté corriendo JACK!) teclea en la Terminal:</p>

<p>mpd</p>

<h5><a name="index5h5"></a>Iniciar un cliente</h5>

<p>Ahora es tiempo de probar la reproducción de audio a través del demonio MPD con uno de sus clientes. Con Sonata, se abre este programa por la Terminal o el menú (el enlace se crea en MULTIMEDIA por defecto). En Sonata (o cualquier otra aplicación aparecen las carpetas o archivos de audio que se encuentran en la carpeta RADIO. Elige un archivo de audio y reprodúcelo. Eso es muy importante para que JACK reconozca MPD en su ventana de conexiones (ve el capítulo JACK para saber más sobre esto).</p>

<h5><a name="index6h5"></a>Iniciar la transmisión</h5>

<p>Para empezar a transmitir esta señal ahora sólo falta iniciar Darkice y conectar las salidas de MPD (lado izquierdo) con las entradas de Darkice (lado derecho).</p>

<p>Ojo: Para hacer correr Darkice</p>

<p>también tendrás que editar una hoja de configuración, revisa <span class="createlink">http://wiki.flujos.org/fv:manual:aplicaciones#darkice</span> para saber más.</p>

<p>Para mezclar la señal de un micrófono conectado a tu computadora con lo que reproduce MPD basta conectar Capture (lado izquierdo) con las entradas de Darkice (derecha).</p>

<p>Una manera más elegante de combinar la reproducción de MPD con la señal de un micrófono en un stream enviado por Darkice consiste en usar JackEQ. Consulta el capítulo <span class="createlink">http://wiki.flujos.org/fv:manual:aplicaciones#jackeq y sus posibles combinaciones</span>, ahí encontrarás toda la información para controlar los volúmenes de tus transmisiones aún mejor. Conéctate…</p>

<h2><a name="index6h2"></a>Icecast2</h2>

<p>Flujos en redes locales</p>

<p>Muchos servidores de audio configurados con software libre (ej. Giss.tv) recurren a un programa llamado Icecast2 para gestionar transmisiones de streaming en el Internet. Se puede instalar también en cualquier computadora. Esta herramienta no nos va a permitir mandar streams a todo el mundo (por falta de una dirección estática de Internet) sino sólo a la gente conectada a la misma red local (alámbrico o inalámbrico). Para experimentar con este tipo de transmisiones en redes locales, hemos puesto el programa de servidor Icecast2 en el Live-CD.</p>

<p>En seguida encontrarás los pasos para transmitir con Icecast2 (servidor local), Darkice (que se encarga mandar el stream a Icecast2) y un reproductor de audio (Aqualung).</p>

<h3><a name="index13h3"></a>Activar Icecast2</h3>

<p>Lo único que tienes que hacer para activarlo es entrar a la Terminal y teclear el comando:</p>

<p>sudo /etc/init.d/icecast2 start</p>

<h3><a name="index14h3"></a>Correr Darkice</h3>

<p>El servidor local de audio Icecast2 ya está corriendo. Falta correr darkice, que subi el audio al servidor. Para activar Darkice con una hoja de configuración específica contenida en el Live-CD, teclea:</p>

<p>darkice</p>

<p>Nota: Para detener esta aplicación presiona las teclas Ctrl + C, esto cerrará cualquier actividad dentro de la Terminal.</p>

<p>para saber como configurar darkice ver <span class="createlink">http://wiki.flujos.org/fv:manual:aplicaciones#darkice</span></p>

<h3><a name="index15h3"></a>¿Cómo recibir la transmisión de Icecast2 con las otras computadoras en la red local?</h3>

<p>Primero debes encontrar la dirección IP que está utilizando tu computadora en la red local. Para ubicarla teclea el siguiente comando en la Terminal:</p>

<p>ip addr|grep inet |grep -v inet6 | awk '{print $2}'| cut -d/ -f1</p>

<p>Aparecerá una información parecida a esto:</p>

<p>192.168.1.101 </p>

<p>La información que viene en la linea que empieza con inet corresponde a tu IP. Son todos los números hasta el signo /, ejemplo: 192.168.1.101</p>

<p>Ahora completa esta dirección con la información de tu stream, especificando el puerto y el punto de montaje. En el caso de la hoja de configuración que trae el Live-CD el puerto es 8000 y el nombre del punto de montaje flujos.ogg. Basándonos en la IP de ejemplo, para abrir tu stream en el navegador o un reproductor, los demás usuarios tienen que teclear lo siguiente:</p>

<p>es decir: tu número IP:8000/flujos.ogg</p>

<p>Ojo: La IP de tu computadora puede variar. Por eso es importante que siempre revises tu número IP en la Terminal, antes de publicar la dirección de tu stream.</p>

<p>Los usuarios también pueden entrar a la página del servidor de audio local tecleando tu IP y el puerto: 192.168.1.101:8000</p>

<p>Verán lo siguiente:</p>

<p>¡Disfruta haciendo tu red local!</p>

<h2><a name="index7h2"></a>Diagnóstico de problemas y errores</h2>

<p>[mover esta a su <span class="createlink">diagnostico</span>?]</p>

<p>Transmitir audio por Internet es sencillo pero existen trampas discretas que pueden ser muy frustrantes. Para evitar las fallas más comunes, aquí una pequeña lista con los once pasos a la felicidad de streaming con el Live-CD:</p>

<ul>
<li>Todo completo. Conviene hacer una lista con el equipo necesario (inventario) para realizar una transmisión (ej. computadora, copia del Live-CD, número de micrófonos, selección de música, mezcladora, etc.). Si la transmisión se realiza en equipo, es mejor definir papeles y responsabilidades desde un principio.</li>
<li>¿Y si mi computadora no reconoce el Live-CD? Durante el proceso de arranque, la mayoría de las computadoras buscan en el reproductor de disco un sistema operativo ejecutable, antes de iniciar el sistema operativo instalado en el disco duro de la computadora. Si eso no sucede (es decir, nunca se carga el Live-CD hasta después de encender la computadora), hay que entrar en el menú de arranque inmediatamente después de encender la computadora con las teclas F9, F12 u otra (está escrita en la parte de abajo de la pantalla un par de segundos) y manualmente iniciar el arranque del Live-CD. O de una vez, cambiar el orden de procesos de arranque poniendo el reproductor de discos (DISK DRIVE) en primer lugar. (Ver también capítulo Qué es un Live-CD).</li>
<li>Conexión a Internet. Especialmente en el trabajo con Live-CDs conviene pensar desde el inicio en una conexión alámbrica. Asegúrate que hay una conexión con el Internet. Eso se puede hacer con la prueba ping desde la terminal o abriendo un stream de radio, para probar si la conexión permite recibir señales de streaming. También es útil conocer el ancho de banda de tu conexión, para no transmitir un stream demasiado pesado que causaría constantes interrupciones.</li>
<li>Ensalada de cables. 90% de las fallas tienen que ver con cables mal conectados o falsos contactos. Revisa cuidadosamente todos los cables (de luz, de red, conexiones entre aparatos, de las bocinas, etc.).</li>
<li>Contraseñas y direcciones. Una contraseña olvidada puede arruinarlo todo. Se van a encontrar con ellas en varios momentos: accediendo a la computadora, un punto de montaje de un servidor de audio, cuentas de chat, FTP, etc. Además, hay que tener listos todos los detalles de la dirección de streaming para configurar el cliente de streaming para transmitir (ej. punto de montaje, formato de audio, etc.).</li>
<li>Un servidor que funcione. Si no transmites con la dirección IP de tu computadora (IP real) y utilizas un servidor de audio (ej. shoutcast, icecast2), es recomendable hacer una prueba un día antes de transmitir para saber si funciona. Conviene tener un “plan B”, es decir una segunda dirección (URL) por la cual se pueda transmitir, en el caso de que falle el servidor usual.</li>
<li>Prueba puertos. Al configurar una dirección de streaming tienes que elegir un puerto en el servidor de audio por donde pasa el flujo de sonido. El puerto estándar para streaming de audio es el puerto 8000. Cuando mucha gente utiliza el mismo servidor a la vez (ocupando distintos puntos de montaje), se puede saturar la capacidad del puerto estándar. Experimenta con puertos alternativos 8001, etc., ya que puede ayudar a obtener una conexión estable. Sólo recuerda que al hacerlo, se modifica el URL de tu stream que contiene la información sobre el puerto. Entonces, si cambias el puerto, avisa con anticipación a tus radioescuchas y no olvides cambiar el enlace del stream publicado/integrado en tu página web.</li>
<li>Organizar tu música. Para acceder a los archivos guardados en tu disco duro, busca en la carpeta MEDIA la ruta a tus archivos de audio. Si por alguna razón no logras acceder a los archivos de música guardados, conviene preparar una selección de música en una memoria USB para que una vez corriendo el Live-CD, puedas copiar estas cápsulas en el escritorio virtual que crea el Live-CD. O colocarlos en la carpeta RADIO que está definida como ruta estándar para música.</li>
<li>¿Con o sin JACK? El Live CD está configurado para correr JACK cuando inicia el sistema. Recomendamos siempre, primero encender la aplicación JACK antes de abrir cualquier programa de audio en el Live-CD. Recuerda: JACK permite utilizar varios programas de audio a la vez y establece una comunicación entre ellos. Los clientes de streaming en el Live-CD están configurados para trabajar con JACK. Se puede cambiar esta configuración pero recomendamos investigar su uso con JACK antes de experimentar con alternativas.</li>
<li>Configuraciones de audio. Antes de transmitir, investiga si el Live-CD reconoce la tarjeta de audio de tu computadora. Eso lo puedes hacer abriendo música en los reproductores para ver si suena. Para revisar la entrada de micrófono, abre un editor de audio (Audacity, Ardour) o un cliente de streaming y prueba si funciona el micrófono (¿se oye algo? ¿se ve algo en el medidor de entrada de audio?). Si no funciona la reproducción o la recepción de audio tienes dos posibilidades. (1) Configurar entradas y salidas de audio en ALSA y JACK (ver capítulo ALSA). (2) utilizar una interfaz de audio externa con lo cual se independiza la tarjeta de audio de la computadora (ver capítulo Tarjeta de audio externa). Toma en cuenta que la segunda solución puede deshabilitar las bocinas integradas a tu computadora. Así es que prepara tus audífonos o bocinas externas para monitorear tu señal de salida.</li>
<li>Empezar a tiempo. Conectar todo el equipo, cargar el Live-CD y probar la conexión con el servidor, toma su tiempo. Conviene tener todo listo 30 minutos antes de la transmisión para ver si el stream está estable y hacer modificaciones (ej. cambiar el bitrate/frecuencia de muestra o el puerto), si es necesario. Además facilita las cosas tener claro quién hace qué durante la transmisión. Es útil escribir un plan de transmisión (con tiempos, etc.).</li>
<li>Monitorear y chatear. Además de monitorear la transmisión con una segunda computadora (en el mismo o en otro lugar), es bueno invitar a los oyentes a un live chat. Así no sólo tienen un canal para criticar y participar, sino también pueden comentar sobre la calidad del stream. Por otro lado, el chat permite informar a la gente que escucha, en caso de que surjan problemas técnicos o interrupciones. El Live- CD trae un cliente de IRC por el cual puedes acceder a canales de chat (ver capítulo Comunicándose más allá del stream).</li>
<li>Mantener la calma. El que se enoja, ya no reflexiona y ya no detecta las pequeñas trampas del streaming. Aprovecha el Foro de Radio.flujos.org para publicar tus dudas, preguntas, consejos e ideas. Nos leemos allá y nos oímos en la red…
<h2><a name="index8h2"></a>Video</h2></li>
</ul>

<h4><a name="index22h4"></a>Desde la linea de comandos</h4>

<p>El orden completo es lo que sigue. después vamos linea por linea para saber que hace cada cosa.((los "\" al final del cada linea indican que el orden continuara en la siguiente linea. sin ellos la linea de comandos interpretara tres ordenes en lugar de solo uno))</p>

<pre><code>dvgrab --format raw - | \
ffmpeg2theora -a 0 -v 5 -f dv -x 320 -y 240 -o /dev/stdout - | \ 
oggfwd  servidor  8000 contraseña /theora.ogv
</code></pre>

<p>ahora por partes. <strong>dvgrab</strong> graba el audio y vídeo desde el //firewire//. con ello puedes elegir entre varios formatos para guardar. en el orden la informacion esta mantenidos en formato "raw" y en lugar de guardarlo en el disco duro, si mantenga en la memoria ram  atreves de una tubería que redirección los datos a el codificador de <strong>theora</strong>. Si no tenemos //firewire//, si puede sustituir <strong>dvgrab</strong> con otra programa que captura del dispositivo disponible. </p>

<pre><code>dvgrab --format raw - | 
</code></pre>

<p><strong>ffmpeg2theora</strong> toma la salida de <strong>dvgrab</strong> y lo codifica en e formato de vídeo <strong>theora</strong>, y la encapsula en el contenedor <strong>ogg</strong>. podemos configura el calidad del audio y vídeo por separado, 0 siendo lo mas baja 10 el mejor calidad. "<strong>-a 0</strong>" indica que queremos el calidad mínimo de audio y "<strong>-v 5</strong>" un calidad de vídeo mas alta. con los opciones "<strong>-x</strong>" y "<strong>-y</strong>" indicamos los dimensiones del vídeo. y el opción "-o" indican el nombre del archivo de salida, en que <strong>ffmpeg2theora</strong> guarda el vídeo <strong>ogg-theora</strong>. en nuestro ejemplo, en lugar de enviar los datos al disco duro, de nuevo los mantenemos en la memoria RAM reenviándolos a una programa que si llama <strong>oggfwd</strong>. </p>

<pre><code>ffmpeg2theora -a 0 -v 5 -f dv -x 320 -y 240 -o /dev/stdout - | 
</code></pre>

<p><strong>Oggfwd</strong> sube los datos a un servidor de <strong>icecast2</strong>. reemplazamos la informacion que sigue con los datos que correspondan a nuestra punto de montaje en nuestra servidor. </p>

<pre><code>oggfwd  servidor  8000 contraseña /theora.ogv
</code></pre>

<p>luego puedes incluir el vídeo en una pagina utilizando los <span class="createlink">http://wiki.flujos.org/html5#iii. implementacion</span>. </p>

<h3><a name="index16h3"></a>Enlaces</h3>

<p>Dónde obtener una URL</p>

<p>http://giss.tv/</p>

<p>Internet DJ Console</p>

<p>http://www.onlymeok.nildram.co.uk/</p>

<p>http://ubuntuforums.org/showthread.php?t=577914</p>

<p>Darkice</p>

<p>http://code.google.com/p/darkice/</p>

<p>http://freshmeat.net/projects/darkice/</p>

<p>http://www.radio.flujos.org/index.php?option=com_wrapper&amp;view=wrapper&amp;Itemid=14</p>

<p>JackEQ y sus posibles combinaciones</p>

<p>http://jackeq.sourceforge.net/</p>

<p>Music Player Daemon (MPD)</p>

<p>http://mpd.wikia.com/wiki/Music_Player_Daemon_Wiki</p>

<p>http://www.esdebian.org/wiki/mpd-music-player-daemon</p>

<p>Icecast2</p>

<p>http://es.wikipedia.org/wiki/Icecast</p>

<p>http://es.wikibooks.org/wiki/IceCast2_Streaming_de_Audio</p>

<p><span class="createlink">http://www.icecast.org/</span></p>

<p>􀀀 <span class="createlink">http://www.ubuntu-es.org/?q=node/43959</span></p>

<p>http://php.apsique.com/node/523</p>

<p>Diagnóstico de problemas y errores</p>

<p>http://www.radio.flujos.org/index.php?option=com_ccboard&amp;view=topiclist&amp;forum=1&amp;Itemid=15</p>

</section>





</div>

<footer id="footer" class="pagefooter">

<nav id="pageinfo">




<nav id="backlinks">
Links:

<a href="../">index</a>


</nav>






<div class="pagedate">
Last edited <time datetime="2010-10-20T01:04:21Z">mar 19 oct 2010 20:04:21 CDT</time>
<!-- Created <time datetime="2010-10-20T01:04:21Z" pubdate="pubdate">mar 19 oct 2010 20:04:21 CDT</time> -->
</div>

</nav>


<!-- from flujos-vivos -->
</footer>

</article>

</body>
</html>
